<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>陽明交大 - 學習平台</title>
	<script src="js/setting.js"></script>
	<link href="css/style.css" rel="stylesheet" type="text/css" media="screen" /> 
	<META Http-Equiv="Cache-Control" Content="no-cache"/>
<META Http-Equiv="Pragma" Content="no-cache"/>
<META Http-Equiv="Expires" Content="0"/>
</head>
<body>
	<!-- header -->
	<header class="site-header">
		<div class="clear"></div>
			<div class="inner-wrap">
				<div id="titleDiv" class="navbar-brand-wpz"><font size="10"></font></div>
			</div>
	</header>	
	<!-- end header -->
	<button class="topright1" onclick="clearHistory()">Logout</button>
	<div style="padding: 60px;">
		<div align="left" id="intro"></div>
		<table width="30%" id="TableAppointment" border="1"></table><br>
	</div>
	<script>
		queryParam();
		document.getElementById("intro").innerHTML= "Hello, " + globalName + "!";
		let urlStr= FHIRserver + globalPatientID;
		HTTPGetData(urlStr, "Patient");
		
		function linkToCourseSelection(){
			var queryParam= 'personID=' + globalPersonID;
			window.open('courseSelection.html?' + queryParam, "_blank");
		}
		
		function clearHistory(){			//not Functioning
			 var backlen = history.length;
			 history.go(-backlen);
			 window.location.href = "loginPerson.html";
		}
		
		function createTable(){
			var table= document.getElementById("TableAppointment");
			var cellIndex;
			var row, noIndex=1, videoName;
			
			//check per organization
			for (var index0=0;index0<=iOrganization;index0++){											
				table.innerHTML+= '<tr><th bgcolor="#ebebe0" colspan="2">My Course List</th></tr>';
				//check per schedule
				for (var index1=0;index1<iSchedule;index1++){			
					document.getElementById("intro").innerHTML+= '<br>教授: ' + arrSchedule[index1][1] + '<br>課程期間: ' + arrSchedule[index1][2] + ' 至 ' + arrSchedule[index1][3];
					table.innerHTML+= '<tr><th>No.</th><th>教材</th></tr>';
					var totSlot= arrSchedule[index1][5];
					var indexNo=1;
					//check per slot
					for (var index2=0;index2<totSlot;index2+=5){		//per Slot
						var totVideo=tableValue[index0][index1][index2][2];
						for (var index3=3;index3<(3+totVideo*2);index3+=2){	//total video
							row = table.insertRow(-1);
							row.align="center";
							row.insertCell(0).innerHTML= indexNo++ + ".";
							elLink = document.createElement('a');
							elLink.target= "_blank";
							elLink.innerHTML = tableValue[index0][index1][index2][index3];
							elLink.href = tableValue[index0][index1][index2][index3+1];
							row.insertCell(1).appendChild(elLink);
						}
					}
				}
			}
		}
	</script>
</body>
</html>